{"mappings":"IG+CI,EAAU,EAAQ,EAAO,EACzB,EAAO,EAAY,EAAqB,EAAO,EAC/C,EACA,E,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,Q,S,C,C,C,E,E,E,O,C,W,I,E,A,G,E,G,E,E,O,C,U,I,E,A,G,E,GFhDJ,IAcA,EACA,EAfI,EAAU,CAAC,EAcf,EAbA,SAAkB,CAAK,EAErB,IAAK,IADD,EAAO,OAAO,IAAA,CAAK,GACd,EAAI,EAAG,EAAI,EAAK,MAAA,CAAQ,IAC/B,CAAO,CAAC,CAAI,CAAC,EAAE,CAAC,CAAG,CAAK,CAAC,CAAI,CAAC,EAAE,CAAC,AAErC,EASA,EARA,SAAiB,CAAE,EACjB,IAAI,EAAW,CAAO,CAAC,EAAG,CAC1B,GAAI,AAAY,MAAZ,EACF,MAAM,AAAI,MAAM,oCAAsC,GAExD,OAAO,CACT,C,GCfA,AAAA,EAAA,SAAA,QAAA,CAA8C,KAAK,KAAA,CAAM,sL,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SEGzD,MAAM,EAAO,4B,I,E,C,E,E,C,EEDb,EAAiB,SAAU,CAAS,CAAE,CAAM,CAAE,CAAK,EACjD,GAAI,IAAW,KAAK,QAAA,CAAS,MAAA,CAG3B,OAAO,EAGP,IAAI,EAAS,EAAQ,UAAY,KAAK,SAAA,CAAU,GAAa,IAAM,iBAAmB,KAAK,SAAA,CAAU,GAAa,KAClH,OAAO,IAAI,eAAA,CAAgB,IAAI,KAAK,CAAC,EAAO,CAAE,CAC5C,KAAM,wBACR,GAEJ,EDbA,IAAI,EAAA,IAAA,IAA0B,AAAA,EAAA,SAAA,OAAA,CAA6C,SAA3E,YAAA,GAAA,EACA,EAAiB,EAAU,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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-bf1a12f246f30a8f.js","example/silhouetteProjection.js","src/worker/SilhouetteGeneratorWorker.js","node_modules/@parcel/runtime-js/lib/runtime-565271cc3a93207f.js","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js"],"sourcesContent":["function $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire6c98\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire6c98\"] = parcelRequire;\n}\nparcelRequire.register(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\n$parcel$export(module.exports, \"resolve\", () => $18c11f3350a906ea$export$f7ad0328861e2f03, (v) => $18c11f3350a906ea$export$f7ad0328861e2f03 = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = {};\nfunction $18c11f3350a906ea$var$register(pairs) {\n    var keys = Object.keys(pairs);\n    for(var i = 0; i < keys.length; i++)$18c11f3350a906ea$var$mapping[keys[i]] = pairs[keys[i]];\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping[id];\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return resolved;\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $935076cdf6e7eb6a$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(JSON.parse('{\"8QGS7\":\"silhouetteProjection.b08c1309.js\",\"82ikj\":\"silhouetteAsync.worker.f555f2b4.js\",\"dJZsV\":\"projectionAsync.worker.d112c604.js\",\"6k19S\":\"silhouetteProjection.4211e9ae.js\"}'));\n\n\nvar $ilwiq = parcelRequire(\"ilwiq\");\n\nvar $jiuw3 = parcelRequire(\"jiuw3\");\n\nvar $5Rd1x = parcelRequire(\"5Rd1x\");\n\nvar $7ePFa = parcelRequire(\"7ePFa\");\n\nvar $4CEV9 = parcelRequire(\"4CEV9\");\n\nvar $ilwiq = parcelRequire(\"ilwiq\");\n\nvar $l7uOa = parcelRequire(\"l7uOa\");\nconst $6c7008b1813725e4$var$NAME = \"SilhouetteGeneratorWorker\";\nvar $d6de5c547c645488$exports = {};\nvar $56b621a6dd25b2cb$exports = {};\n\"use strict\";\n$56b621a6dd25b2cb$exports = function(workerUrl, origin, isESM) {\n    if (origin === self.location.origin) // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n    else {\n        // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n        var source = isESM ? \"import \" + JSON.stringify(workerUrl) + \";\" : \"importScripts(\" + JSON.stringify(workerUrl) + \");\";\n        return URL.createObjectURL(new Blob([\n            source\n        ], {\n            type: \"application/javascript\"\n        }));\n    }\n};\n\n\n\nlet $d6de5c547c645488$var$url = new URL((parcelRequire(\"27Lyk\")).resolve(\"82ikj\"), import.meta.url);\n$d6de5c547c645488$exports = $56b621a6dd25b2cb$exports($d6de5c547c645488$var$url.toString(), $d6de5c547c645488$var$url.origin, true);\n\n\nclass $6c7008b1813725e4$export$86161294a4c08d30 {\n    constructor(){\n        this.running = false;\n        this.worker = new Worker($d6de5c547c645488$exports);\n        this.worker.onerror = (e)=>{\n            if (e.message) throw new Error(`${$6c7008b1813725e4$var$NAME}: Could not create Web Worker with error \"${e.message}\"`);\n            else throw new Error(`${$6c7008b1813725e4$var$NAME}: Could not create Web Worker.`);\n        };\n    }\n    generate(geometry, options = {}) {\n        if (this.running) throw new Error(`${$6c7008b1813725e4$var$NAME}: Already running job.`);\n        if (this.worker === null) throw new Error(`${$6c7008b1813725e4$var$NAME}: Worker has been disposed.`);\n        const { worker: worker } = this;\n        this.running = true;\n        return new Promise((resolve, reject)=>{\n            worker.onerror = (e)=>{\n                reject(new Error(`${$6c7008b1813725e4$var$NAME}: ${e.message}`));\n                this.running = false;\n            };\n            worker.onmessage = (e)=>{\n                this.running = false;\n                const { data: data } = e;\n                if (data.error) {\n                    reject(new Error(data.error));\n                    worker.onmessage = null;\n                } else if (data.result) {\n                    if (options.output === (0, $l7uOa.OUTPUT_BOTH)) {\n                        const result = data.result.map((info)=>{\n                            const geometry = new (0, $ilwiq.BufferGeometry)();\n                            geometry.setAttribute(\"position\", new (0, $ilwiq.BufferAttribute)(info.position, 3, false));\n                            if (info.index) geometry.setIndex(new (0, $ilwiq.BufferAttribute)(info.index, 1, false));\n                            return geometry;\n                        });\n                        resolve(result);\n                    } else {\n                        const geometry = new (0, $ilwiq.BufferGeometry)();\n                        geometry.setAttribute(\"position\", new (0, $ilwiq.BufferAttribute)(data.result.position, 3, false));\n                        geometry.setIndex(new (0, $ilwiq.BufferAttribute)(data.result.index, 1, false));\n                        resolve(geometry);\n                    }\n                    worker.onmessage = null;\n                } else if (options.onProgress) options.onProgress(data.progress);\n            };\n            const index = geometry.index ? geometry.index.array.slice() : null;\n            const position = geometry.attributes.position.array.slice();\n            const transfer = [\n                position.buffer\n            ];\n            if (index) transfer.push(index.buffer);\n            worker.postMessage({\n                index: index,\n                position: position,\n                options: {\n                    ...options,\n                    onProgress: null,\n                    includedProgressCallback: Boolean(options.onProgress)\n                }\n            }, transfer);\n        });\n    }\n    dispose() {\n        this.worker.terminate();\n        this.worker = null;\n    }\n}\n\n\nconst $0d0b0cc2e69039e3$var$params = {\n    displaySilhouette: true,\n    displayWireframe: false,\n    displayOutline: false,\n    displayModel: true,\n    useWorker: false,\n    rotate: ()=>{\n        $0d0b0cc2e69039e3$var$group.quaternion.random();\n        $0d0b0cc2e69039e3$var$group.position.set(0, 0, 0);\n        $0d0b0cc2e69039e3$var$group.updateMatrixWorld(true);\n        const box = new (0, $ilwiq.Box3)();\n        box.setFromObject($0d0b0cc2e69039e3$var$model, true);\n        box.getCenter($0d0b0cc2e69039e3$var$group.position).multiplyScalar(-1);\n        $0d0b0cc2e69039e3$var$group.position.y = Math.max(0, -box.min.y) + 1;\n    },\n    regenerate: ()=>{\n        $0d0b0cc2e69039e3$var$task = $0d0b0cc2e69039e3$var$updateEdges();\n    }\n};\nlet $0d0b0cc2e69039e3$var$renderer, $0d0b0cc2e69039e3$var$camera, $0d0b0cc2e69039e3$var$scene, $0d0b0cc2e69039e3$var$gui, $0d0b0cc2e69039e3$var$controls;\nlet $0d0b0cc2e69039e3$var$model, $0d0b0cc2e69039e3$var$projection, $0d0b0cc2e69039e3$var$projectionWireframe, $0d0b0cc2e69039e3$var$group, $0d0b0cc2e69039e3$var$edges;\nlet $0d0b0cc2e69039e3$var$outputContainer;\nlet $0d0b0cc2e69039e3$var$worker;\nlet $0d0b0cc2e69039e3$var$task = null;\n$0d0b0cc2e69039e3$var$init();\nasync function $0d0b0cc2e69039e3$var$init() {\n    $0d0b0cc2e69039e3$var$outputContainer = document.getElementById(\"output\");\n    const bgColor = 0xeeeeee;\n    // renderer setup\n    $0d0b0cc2e69039e3$var$renderer = new (0, $ilwiq.WebGLRenderer)({\n        antialias: true\n    });\n    $0d0b0cc2e69039e3$var$renderer.setPixelRatio(window.devicePixelRatio);\n    $0d0b0cc2e69039e3$var$renderer.setSize(window.innerWidth, window.innerHeight);\n    $0d0b0cc2e69039e3$var$renderer.setClearColor(bgColor, 1);\n    document.body.appendChild($0d0b0cc2e69039e3$var$renderer.domElement);\n    // scene setup\n    $0d0b0cc2e69039e3$var$scene = new (0, $ilwiq.Scene)();\n    // lights\n    const light = new (0, $ilwiq.DirectionalLight)(0xffffff, 3.5);\n    light.position.set(1, 2, 3);\n    $0d0b0cc2e69039e3$var$scene.add(light);\n    const ambientLight = new (0, $ilwiq.AmbientLight)(0xb0bec5, 0.5);\n    $0d0b0cc2e69039e3$var$scene.add(ambientLight);\n    // load model\n    $0d0b0cc2e69039e3$var$group = new (0, $ilwiq.Group)();\n    $0d0b0cc2e69039e3$var$group.position.y = 2;\n    $0d0b0cc2e69039e3$var$scene.add($0d0b0cc2e69039e3$var$group);\n    $0d0b0cc2e69039e3$var$model = new (0, $ilwiq.Mesh)(new (0, $ilwiq.TorusKnotGeometry)(1, 0.4, 120, 30), new (0, $ilwiq.MeshStandardMaterial)({\n        polygonOffset: true,\n        polygonOffsetFactor: 1,\n        polygonOffsetUnits: 1\n    }));\n    $0d0b0cc2e69039e3$var$model.rotation.set(Math.PI / 4, 0, Math.PI / 8);\n    $0d0b0cc2e69039e3$var$group.add($0d0b0cc2e69039e3$var$model);\n    // create projection display mesh\n    $0d0b0cc2e69039e3$var$projection = new (0, $ilwiq.Mesh)(undefined, new (0, $ilwiq.MeshBasicMaterial)({\n        color: 0xf06292,\n        side: (0, $ilwiq.DoubleSide),\n        polygonOffset: true,\n        polygonOffsetFactor: 1,\n        polygonOffsetUnits: 1\n    }));\n    $0d0b0cc2e69039e3$var$projection.position.y = -2;\n    $0d0b0cc2e69039e3$var$scene.add($0d0b0cc2e69039e3$var$projection);\n    $0d0b0cc2e69039e3$var$edges = new (0, $ilwiq.LineSegments)(undefined, new (0, $ilwiq.LineBasicMaterial)({\n        color: 0\n    }));\n    $0d0b0cc2e69039e3$var$edges.position.y = -2;\n    $0d0b0cc2e69039e3$var$scene.add($0d0b0cc2e69039e3$var$edges);\n    $0d0b0cc2e69039e3$var$projectionWireframe = new (0, $ilwiq.Mesh)(undefined, new (0, $ilwiq.MeshBasicMaterial)({\n        color: 0xc2185b,\n        wireframe: true\n    }));\n    $0d0b0cc2e69039e3$var$projectionWireframe.position.y = -2;\n    $0d0b0cc2e69039e3$var$scene.add($0d0b0cc2e69039e3$var$projectionWireframe);\n    // camera setup\n    $0d0b0cc2e69039e3$var$camera = new (0, $ilwiq.PerspectiveCamera)(75, window.innerWidth / window.innerHeight, 0.01, 50);\n    $0d0b0cc2e69039e3$var$camera.position.setScalar(4.5);\n    $0d0b0cc2e69039e3$var$camera.updateProjectionMatrix();\n    // controls\n    $0d0b0cc2e69039e3$var$controls = new (0, $5Rd1x.OrbitControls)($0d0b0cc2e69039e3$var$camera, $0d0b0cc2e69039e3$var$renderer.domElement);\n    $0d0b0cc2e69039e3$var$gui = new (0, $jiuw3.GUI)();\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"displayModel\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"displaySilhouette\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"displayOutline\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"displayWireframe\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"useWorker\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"rotate\");\n    $0d0b0cc2e69039e3$var$gui.add($0d0b0cc2e69039e3$var$params, \"regenerate\");\n    $0d0b0cc2e69039e3$var$worker = new (0, $6c7008b1813725e4$export$86161294a4c08d30)();\n    $0d0b0cc2e69039e3$var$task = $0d0b0cc2e69039e3$var$updateEdges();\n    $0d0b0cc2e69039e3$var$render();\n    window.addEventListener(\"resize\", function() {\n        $0d0b0cc2e69039e3$var$camera.aspect = window.innerWidth / window.innerHeight;\n        $0d0b0cc2e69039e3$var$camera.updateProjectionMatrix();\n        $0d0b0cc2e69039e3$var$renderer.setSize(window.innerWidth, window.innerHeight);\n    }, false);\n}\nfunction* $0d0b0cc2e69039e3$var$updateEdges(runTime = 30) {\n    $0d0b0cc2e69039e3$var$outputContainer.innerText = \"processing: --\";\n    // transform and merge geometries to project into a single model\n    let timeStart = window.performance.now();\n    const geometries = [];\n    $0d0b0cc2e69039e3$var$model.updateWorldMatrix(true, true);\n    $0d0b0cc2e69039e3$var$model.traverse((c)=>{\n        if (c.geometry) {\n            const clone = c.geometry.clone();\n            clone.applyMatrix4(c.matrixWorld);\n            for(const key in clone.attributes)if (key !== \"position\") clone.deleteAttribute(key);\n            geometries.push(clone);\n        }\n    });\n    const mergedGeometry = (0, $7ePFa.mergeGeometries)(geometries, false);\n    const mergeTime = window.performance.now() - timeStart;\n    yield;\n    // generate the candidate edges\n    timeStart = window.performance.now();\n    let result = null;\n    if (!$0d0b0cc2e69039e3$var$params.useWorker) {\n        const generator = new (0, $4CEV9.SilhouetteGenerator)();\n        generator.iterationTime = runTime;\n        generator.output = (0, $4CEV9.OUTPUT_BOTH);\n        const task = generator.generate(mergedGeometry, {\n            onProgress: (p, info)=>{\n                $0d0b0cc2e69039e3$var$outputContainer.innerText = `processing: ${parseFloat((p * 100).toFixed(2))}%`;\n                const result = info.getGeometry();\n                $0d0b0cc2e69039e3$var$projection.geometry.dispose();\n                $0d0b0cc2e69039e3$var$projection.geometry = result[0];\n                $0d0b0cc2e69039e3$var$projectionWireframe.geometry = result[0];\n                $0d0b0cc2e69039e3$var$edges.geometry.dispose();\n                $0d0b0cc2e69039e3$var$edges.geometry = result[1];\n                if ($0d0b0cc2e69039e3$var$params.displaySilhouette || $0d0b0cc2e69039e3$var$params.displayWireframe || $0d0b0cc2e69039e3$var$params.displayOutline) {\n                    $0d0b0cc2e69039e3$var$projection.geometry.dispose();\n                    $0d0b0cc2e69039e3$var$projection.geometry = result[0];\n                    $0d0b0cc2e69039e3$var$projectionWireframe.geometry = result[0];\n                    $0d0b0cc2e69039e3$var$edges.geometry.dispose();\n                    $0d0b0cc2e69039e3$var$edges.geometry = result[1];\n                }\n            }\n        });\n        let res = task.next();\n        while(!res.done){\n            res = task.next();\n            yield;\n        }\n        result = res.value;\n    } else {\n        $0d0b0cc2e69039e3$var$worker.generate(mergedGeometry, {\n            output: (0, $4CEV9.OUTPUT_BOTH),\n            onProgress: (p)=>{\n                $0d0b0cc2e69039e3$var$outputContainer.innerText = `processing: ${parseFloat((p * 100).toFixed(2))}%`;\n            }\n        }).then((res)=>{\n            result = res;\n        });\n        while(result === null)yield;\n    }\n    const trimTime = window.performance.now() - timeStart;\n    $0d0b0cc2e69039e3$var$projection.geometry.dispose();\n    $0d0b0cc2e69039e3$var$projection.geometry = result[0];\n    $0d0b0cc2e69039e3$var$projectionWireframe.geometry = result[0];\n    $0d0b0cc2e69039e3$var$edges.geometry.dispose();\n    $0d0b0cc2e69039e3$var$edges.geometry = result[1];\n    $0d0b0cc2e69039e3$var$outputContainer.innerText = `merge geometry  : ${mergeTime.toFixed(2)}ms\\n` + `edge trimming   : ${trimTime.toFixed(2)}ms\\n` + `triangles       : ${$0d0b0cc2e69039e3$var$projection.geometry.index.count / 3} tris`;\n}\nfunction $0d0b0cc2e69039e3$var$render() {\n    requestAnimationFrame($0d0b0cc2e69039e3$var$render);\n    if ($0d0b0cc2e69039e3$var$task) {\n        const res = $0d0b0cc2e69039e3$var$task.next();\n        if (res.done) $0d0b0cc2e69039e3$var$task = null;\n    }\n    $0d0b0cc2e69039e3$var$model.visible = $0d0b0cc2e69039e3$var$params.displayModel;\n    $0d0b0cc2e69039e3$var$projection.visible = $0d0b0cc2e69039e3$var$params.displaySilhouette;\n    $0d0b0cc2e69039e3$var$projectionWireframe.visible = $0d0b0cc2e69039e3$var$params.displayWireframe;\n    $0d0b0cc2e69039e3$var$edges.visible = $0d0b0cc2e69039e3$var$params.displayOutline;\n    $0d0b0cc2e69039e3$var$renderer.render($0d0b0cc2e69039e3$var$scene, $0d0b0cc2e69039e3$var$camera);\n}\n\n\n//# sourceMappingURL=silhouetteProjection.b08c1309.js.map\n","\"use strict\";\n\nvar mapping = {};\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping[id];\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return resolved;\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"8QGS7\\\":\\\"silhouetteProjection.b08c1309.js\\\",\\\"82ikj\\\":\\\"silhouetteAsync.worker.f555f2b4.js\\\",\\\"dJZsV\\\":\\\"projectionAsync.worker.d112c604.js\\\",\\\"6k19S\\\":\\\"silhouetteProjection.4211e9ae.js\\\"}\"));","import {\n\tBox3,\n\tWebGLRenderer,\n\tScene,\n\tDirectionalLight,\n\tAmbientLight,\n\tGroup,\n\tMeshStandardMaterial,\n\tMeshBasicMaterial,\n\tPerspectiveCamera,\n\tMesh,\n\tTorusKnotGeometry,\n\tDoubleSide,\n\tLineSegments,\n\tLineBasicMaterial,\n} from 'three';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { mergeGeometries } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\nimport { OUTPUT_BOTH, SilhouetteGenerator } from '../src';\nimport { SilhouetteGeneratorWorker } from '../src/worker/SilhouetteGeneratorWorker.js';\n\nconst params = {\n\tdisplaySilhouette: true,\n\tdisplayWireframe: false,\n\tdisplayOutline: false,\n\tdisplayModel: true,\n\tuseWorker: false,\n\trotate: () => {\n\n\t\tgroup.quaternion.random();\n\t\tgroup.position.set( 0, 0, 0 );\n\t\tgroup.updateMatrixWorld( true );\n\n\t\tconst box = new Box3();\n\t\tbox.setFromObject( model, true );\n\t\tbox.getCenter( group.position ).multiplyScalar( - 1 );\n\t\tgroup.position.y = Math.max( 0, - box.min.y ) + 1;\n\n\t},\n\tregenerate: () => {\n\n\t\ttask = updateEdges();\n\n\t},\n};\n\nlet renderer, camera, scene, gui, controls;\nlet model, projection, projectionWireframe, group, edges;\nlet outputContainer;\nlet worker;\nlet task = null;\n\ninit();\n\nasync function init() {\n\n\toutputContainer = document.getElementById( 'output' );\n\n\tconst bgColor = 0xeeeeee;\n\n\t// renderer setup\n\trenderer = new WebGLRenderer( { antialias: true } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.setClearColor( bgColor, 1 );\n\tdocument.body.appendChild( renderer.domElement );\n\n\t// scene setup\n\tscene = new Scene();\n\n\t// lights\n\tconst light = new DirectionalLight( 0xffffff, 3.5 );\n\tlight.position.set( 1, 2, 3 );\n\tscene.add( light );\n\n\tconst ambientLight = new AmbientLight( 0xb0bec5, 0.5 );\n\tscene.add( ambientLight );\n\n\t// load model\n\tgroup = new Group();\n\tgroup.position.y = 2;\n\tscene.add( group );\n\n\tmodel = new Mesh( new TorusKnotGeometry( 1, 0.4, 120, 30 ), new MeshStandardMaterial( {\n\t\tpolygonOffset: true,\n\t\tpolygonOffsetFactor: 1,\n\t\tpolygonOffsetUnits: 1,\n\t} ) );\n\tmodel.rotation.set( Math.PI / 4, 0, Math.PI / 8 );\n\tgroup.add( model );\n\n\t// create projection display mesh\n\tprojection = new Mesh( undefined, new MeshBasicMaterial( {\n\t\tcolor: 0xf06292,\n\t\tside: DoubleSide,\n\t\tpolygonOffset: true,\n\t\tpolygonOffsetFactor: 1,\n\t\tpolygonOffsetUnits: 1,\n\t} ) );\n\tprojection.position.y = - 2;\n\tscene.add( projection );\n\n\tedges = new LineSegments( undefined, new LineBasicMaterial( { color: 0 } ) );\n\tedges.position.y = - 2;\n\tscene.add( edges );\n\n\tprojectionWireframe = new Mesh( undefined, new MeshBasicMaterial( { color: 0xc2185b, wireframe: true } ) );\n\tprojectionWireframe.position.y = - 2;\n\tscene.add( projectionWireframe );\n\n\t// camera setup\n\tcamera = new PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.01, 50 );\n\tcamera.position.setScalar( 4.5 );\n\tcamera.updateProjectionMatrix();\n\n\t// controls\n\tcontrols = new OrbitControls( camera, renderer.domElement );\n\n\tgui = new GUI();\n\tgui.add( params, 'displayModel' );\n\tgui.add( params, 'displaySilhouette' );\n\tgui.add( params, 'displayOutline' );\n\tgui.add( params, 'displayWireframe' );\n\tgui.add( params, 'useWorker' );\n\tgui.add( params, 'rotate' );\n\tgui.add( params, 'regenerate' );\n\n\tworker = new SilhouetteGeneratorWorker();\n\n\ttask = updateEdges();\n\n\trender();\n\n\twindow.addEventListener( 'resize', function () {\n\n\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\n\t}, false );\n\n}\n\nfunction* updateEdges( runTime = 30 ) {\n\n\toutputContainer.innerText = 'processing: --';\n\n\t// transform and merge geometries to project into a single model\n\tlet timeStart = window.performance.now();\n\tconst geometries = [];\n\tmodel.updateWorldMatrix( true, true );\n\tmodel.traverse( c => {\n\n\t\tif ( c.geometry ) {\n\n\t\t\tconst clone = c.geometry.clone();\n\t\t\tclone.applyMatrix4( c.matrixWorld );\n\t\t\tfor ( const key in clone.attributes ) {\n\n\t\t\t\tif ( key !== 'position' ) {\n\n\t\t\t\t\tclone.deleteAttribute( key );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometries.push( clone );\n\n\t\t}\n\n\t} );\n\tconst mergedGeometry = mergeGeometries( geometries, false );\n\tconst mergeTime = window.performance.now() - timeStart;\n\n\tyield;\n\n\t// generate the candidate edges\n\ttimeStart = window.performance.now();\n\n\tlet result = null;\n\tif ( ! params.useWorker ) {\n\n\t\tconst generator = new SilhouetteGenerator();\n\t\tgenerator.iterationTime = runTime;\n\t\tgenerator.output = OUTPUT_BOTH;\n\t\tconst task = generator.generate( mergedGeometry, {\n\n\t\t\tonProgress: ( p, info ) => {\n\n\t\t\t\toutputContainer.innerText = `processing: ${ parseFloat( ( p * 100 ).toFixed( 2 ) ) }%`;\n\n\t\t\t\tconst result = info.getGeometry();\n\t\t\t\tprojection.geometry.dispose();\n\t\t\t\tprojection.geometry = result[ 0 ];\n\t\t\t\tprojectionWireframe.geometry = result[ 0 ];\n\n\t\t\t\tedges.geometry.dispose();\n\t\t\t\tedges.geometry = result[ 1 ];\n\n\t\t\t\tif ( params.displaySilhouette || params.displayWireframe || params.displayOutline ) {\n\n\t\t\t\t\tprojection.geometry.dispose();\n\t\t\t\t\tprojection.geometry = result[ 0 ];\n\t\t\t\t\tprojectionWireframe.geometry = result[ 0 ];\n\n\t\t\t\t\tedges.geometry.dispose();\n\t\t\t\t\tedges.geometry = result[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t} );\n\n\t\tlet res = task.next();\n\t\twhile ( ! res.done ) {\n\n\t\t\tres = task.next();\n\t\t\tyield;\n\n\t\t}\n\n\t\tresult = res.value;\n\n\t} else {\n\n\t\tworker\n\t\t\t.generate( mergedGeometry, {\n\t\t\t\toutput: OUTPUT_BOTH,\n\t\t\t\tonProgress: p => {\n\n\t\t\t\t\toutputContainer.innerText = `processing: ${ parseFloat( ( p * 100 ).toFixed( 2 ) ) }%`;\n\n\t\t\t\t},\n\t\t\t} )\n\t\t\t.then( res => {\n\n\t\t\t\tresult = res;\n\n\t\t\t} );\n\n\t\twhile ( result === null ) {\n\n\t\t\tyield;\n\n\t\t}\n\n\t}\n\n\tconst trimTime = window.performance.now() - timeStart;\n\tprojection.geometry.dispose();\n\tprojection.geometry = result[ 0 ];\n\tprojectionWireframe.geometry = result[ 0 ];\n\n\tedges.geometry.dispose();\n\tedges.geometry = result[ 1 ];\n\n\toutputContainer.innerText =\n\t\t`merge geometry  : ${ mergeTime.toFixed( 2 ) }ms\\n` +\n\t\t`edge trimming   : ${ trimTime.toFixed( 2 ) }ms\\n` +\n\t\t`triangles       : ${ projection.geometry.index.count / 3 } tris`;\n\n}\n\nfunction render() {\n\n\trequestAnimationFrame( render );\n\n\tif ( task ) {\n\n\t\tconst res = task.next();\n\t\tif ( res.done ) {\n\n\t\t\ttask = null;\n\n\t\t}\n\n\t}\n\n\tmodel.visible = params.displayModel;\n\tprojection.visible = params.displaySilhouette;\n\tprojectionWireframe.visible = params.displayWireframe;\n\tedges.visible = params.displayOutline;\n\trenderer.render( scene, camera );\n\n}\n","import { BufferAttribute, BufferGeometry } from 'three';\nimport { OUTPUT_BOTH } from '../SilhouetteGenerator';\n\nconst NAME = 'SilhouetteGeneratorWorker';\nexport class SilhouetteGeneratorWorker {\n\n\tconstructor() {\n\n\t\tthis.running = false;\n\t\tthis.worker = new Worker( new URL( './silhouetteAsync.worker.js', import.meta.url ), { type: 'module' } );\n\t\tthis.worker.onerror = e => {\n\n\t\t\tif ( e.message ) {\n\n\t\t\t\tthrow new Error( `${ NAME }: Could not create Web Worker with error \"${ e.message }\"` );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( `${ NAME }: Could not create Web Worker.` );\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tgenerate( geometry, options = {} ) {\n\n\t\tif ( this.running ) {\n\n\t\t\tthrow new Error( `${ NAME }: Already running job.` );\n\n\t\t}\n\n\t\tif ( this.worker === null ) {\n\n\t\t\tthrow new Error( `${ NAME }: Worker has been disposed.` );\n\n\t\t}\n\n\t\tconst { worker } = this;\n\t\tthis.running = true;\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tworker.onerror = e => {\n\n\t\t\t\treject( new Error( `${ NAME }: ${ e.message }` ) );\n\t\t\t\tthis.running = false;\n\n\t\t\t};\n\n\t\t\tworker.onmessage = e => {\n\n\t\t\t\tthis.running = false;\n\t\t\t\tconst { data } = e;\n\n\t\t\t\tif ( data.error ) {\n\n\t\t\t\t\treject( new Error( data.error ) );\n\t\t\t\t\tworker.onmessage = null;\n\n\t\t\t\t} else if ( data.result ) {\n\n\t\t\t\t\tif ( options.output === OUTPUT_BOTH ) {\n\n\t\t\t\t\t\tconst result = data.result.map( info => {\n\n\t\t\t\t\t\t\tconst geometry = new BufferGeometry();\n\t\t\t\t\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( info.position, 3, false ) );\n\t\t\t\t\t\t\tif ( info.index ) {\n\n\t\t\t\t\t\t\t\tgeometry.setIndex( new BufferAttribute( info.index, 1, false ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn geometry;\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tresolve( result );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst geometry = new BufferGeometry();\n\t\t\t\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( data.result.position, 3, false ) );\n\t\t\t\t\t\tgeometry.setIndex( new BufferAttribute( data.result.index, 1, false ) );\n\t\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tworker.onmessage = null;\n\n\t\t\t\t} else if ( options.onProgress ) {\n\n\t\t\t\t\toptions.onProgress( data.progress );\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tconst index = geometry.index ? geometry.index.array.slice() : null;\n\t\t\tconst position = geometry.attributes.position.array.slice();\n\t\t\tconst transfer = [ position.buffer ];\n\t\t\tif ( index ) {\n\n\t\t\t\ttransfer.push( index.buffer );\n\n\t\t\t}\n\n\t\t\tworker.postMessage( {\n\t\t\t\tindex,\n\t\t\t\tposition,\n\t\t\t\toptions: {\n\t\t\t\t\t...options,\n\t\t\t\t\tonProgress: null,\n\t\t\t\t\tincludedProgressCallback: Boolean( options.onProgress ),\n\t\t\t\t},\n\t\t\t}, transfer );\n\n\t\t} );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.worker.terminate();\n\t\tthis.worker = null;\n\n\t}\n\n}\n","let workerURL = require('./helpers/get-worker-url');\nlet url = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"82ikj\"));\nmodule.exports = workerURL(url.toString(), url.origin, true);","\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};"],"names":["$0d0b0cc2e69039e3$var$renderer","$0d0b0cc2e69039e3$var$camera","$0d0b0cc2e69039e3$var$scene","$0d0b0cc2e69039e3$var$gui","$0d0b0cc2e69039e3$var$model","$0d0b0cc2e69039e3$var$projection","$0d0b0cc2e69039e3$var$projectionWireframe","$0d0b0cc2e69039e3$var$group","$0d0b0cc2e69039e3$var$edges","$0d0b0cc2e69039e3$var$outputContainer","$0d0b0cc2e69039e3$var$worker","$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","i","length","resolved","JSON","parse","$ilwiq","$jiuw3","$5Rd1x","$7ePFa","$4CEV9","$l7uOa","$6c7008b1813725e4$var$NAME","$d6de5c547c645488$exports","$56b621a6dd25b2cb$exports","workerUrl","origin","isESM","location","source","stringify","URL","createObjectURL","Blob","type","$d6de5c547c645488$var$url","resolve","url","toString","$6c7008b1813725e4$export$86161294a4c08d30","constructor","running","worker","Worker","onerror","message","generate","geometry","options","Promise","reject","onmessage","data","error","result","output","OUTPUT_BOTH","map","info","BufferGeometry","setAttribute","BufferAttribute","position","index","setIndex","onProgress","progress","array","slice","attributes","transfer","buffer","push","postMessage","includedProgressCallback","Boolean","dispose","terminate","$0d0b0cc2e69039e3$var$params","displaySilhouette","displayWireframe","displayOutline","displayModel","useWorker","rotate","quaternion","random","updateMatrixWorld","box","Box3","setFromObject","getCenter","multiplyScalar","y","Math","max","min","regenerate","$0d0b0cc2e69039e3$var$task","$0d0b0cc2e69039e3$var$updateEdges","runTime","innerText","timeStart","performance","now","geometries","updateWorldMatrix","traverse","c","clone","key","applyMatrix4","matrixWorld","deleteAttribute","mergedGeometry","mergeGeometries","mergeTime","p","parseFloat","toFixed","then","res","generator","SilhouetteGenerator","iterationTime","task","getGeometry","next","done","value","trimTime","count","$0d0b0cc2e69039e3$var$init","document","getElementById","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","innerWidth","innerHeight","setClearColor","body","appendChild","domElement","Scene","light","DirectionalLight","add","ambientLight","AmbientLight","Group","Mesh","TorusKnotGeometry","MeshStandardMaterial","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","rotation","PI","undefined","MeshBasicMaterial","color","side","DoubleSide","LineSegments","LineBasicMaterial","wireframe","PerspectiveCamera","setScalar","updateProjectionMatrix","OrbitControls","GUI","$0d0b0cc2e69039e3$var$render","requestAnimationFrame","visible","render","addEventListener","aspect"],"version":3,"file":"silhouetteProjection.b08c1309.js.map"}