let e,n,t,i,o,r,a,d,l,s;var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},p={},c={},m=w.parcelRequire6c98;null==m&&((m=function(e){if(e in p)return p[e].exports;if(e in c){var n=c[e];delete c[e];var t={id:e,exports:{}};return p[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){c[e]=n},w.parcelRequire6c98=m);var u=m("ilwiq"),f=m("jiuw3"),h=m("5Rd1x"),y=m("7lx9d"),g=m("7ePFa"),x=m("kp7Te"),M=m("4CEV9"),b=m("6KVZ3");const P={displayModel:!0,planePosition:1};function v(){let e,n;a.geometry.dispose();let t=new M.PlanarIntersectionGenerator;t.plane.constant=-P.planePosition,e=performance.now(),a.geometry=t.generate(o),n=performance.now()-e,s.innerText=`${n.toFixed(2)}ms`}!async function(){s=document.getElementById("output"),(e=new u.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e.setClearColor(1118481,1),e.clear(),document.body.appendChild(e.domElement),t=new u.Scene;let w=new u.DirectionalLight(16777215,3.5);w.position.set(1,2,3),t.add(w);let p=new u.AmbientLight(11583173,.5);t.add(p),d=new u.Group,t.add(d);let c=await new(0,y.GLTFLoader)().setMeshoptDecoder(x.MeshoptDecoder).loadAsync("https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/nasa-m2020/Perseverance.glb");r=c.scene;let m=[];r.updateWorldMatrix(!0,!0),r.traverse(e=>{if(e.geometry){let n=e.geometry.clone();for(let t in n.applyMatrix4(e.matrixWorld),n.attributes)"position"!==t&&n.deleteAttribute(t);m.push(n)}});let M=(0,g.mergeGeometries)(m,!1);o=new b.MeshBVH(M,{maxLeafTris:1});let L=new u.Box3;L.setFromObject(r,!0),L.getCenter(d.position).multiplyScalar(-1),d.position.y=Math.max(0,-L.min.y)+1,d.add(r),(l=new u.Mesh(new u.PlaneGeometry(5,5),new u.MeshBasicMaterial({color:3355443,transparent:!0,opacity:.5,side:u.DoubleSide}))).rotation.x=-Math.PI/2,d.add(l),(a=new u.LineSegments(new u.BufferGeometry,new u.LineBasicMaterial({color:15658734}))).scale.y=0,t.add(a),(n=new u.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.01,50)).position.setScalar(3.5),n.updateProjectionMatrix(),new h.OrbitControls(n,e.domElement),v(),(i=new f.GUI).add(P,"displayModel"),i.add(P,"planePosition",0,2.5).onChange(()=>v()),function i(){requestAnimationFrame(i),d.visible=P.displayModel,a.visible=P.displayProjection,l.position.y=P.planePosition,e.render(t,n)}(),window.addEventListener("resize",function(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)},!1)}();
//# sourceMappingURL=planarIntersection.eb7e9eb8.js.map
